{\rtf1\ansi\ansicpg1252\cocoartf1504\cocoasubrtf830
{\fonttbl\f0\fnil\fcharset0 Calligraphic810BT-Roman;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural

\f0\fs32 \cf0 Reducing PNG files
\fs22 \
\
Most of the images were originally saved in photoshop as GIFs, but I\'92ve become aware that PNG was designed to be a better replacement for GIF, and is potentially more efficient.  I\'92ve since converted all GIFs to PNGs.  Use of tools to optimize my PNGs for file size have been successful.  Below is an analysis of the tools follow by a conclusion for how to use them.\
\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural
\cf0 \ul \ulc0 OptiPNG\ulnone \
This app is good, but grayscale and palette reduction features are not fully implemented making this useless for me.\
\
\
\ul PNGReWrite\ulnone \
This app either adds a little to the file size compared to OptiPNG or reduces it by an order of magnitude in some rare cases.  I ran pngrewrite on the output of OptiPNG for all creature images and found so few of the files reduced that the little extra added on to the majority of files was the dominant factor, making the total size of all files larger than the results of OptiPNG.  Still, it does catch some cases where less than 256 colors are required and significantly reduce those file sizes.  There are no command line tools for pngrewrite.  The little bit added to most files makes this not an option for me.\
\
\
\ul PNGWolf\ulnone \
Lossless PNG file compressor that only optimizes the filters, and does not strip metadata or reduce colors, etc.  It is really intended as a \'91last step\'92 in the compression process to squeeze the last few bytes out.  The author only provides source, but if you google for a binary you can find one posted to a messageboard.  That Windows app was able to shave 75-750 bytes off of the results of pngrewrite, but the reduction in file size might only be the amount that pngrewrite adds on compared to OptiPNG.  Here is the windows batch file to use for pngwolf:\
\
for %%X in (*.png) do (pngwolf.exe --max-stagnate-time=10 --7zip-mpass=15 --7zip-mmc=258 --7zip-mfb=258 --zlib-level=9 --in=%%X --out=%%X)\
\
\
\ul Photoshop\ulnone \
The version of Photoshop I have has the \'91Export for Web\'92 feature still built-in, but it is label \'91Legacy\'92.  Still, it works better than any other export options I could find.  Set it for PNG-8, grayscale, 16 colors, dither smooth, no metadata, and the file size is very small.  After doing this to all creature GIFs (starting at 2,911,202 bytes), the result was a total of 1,604,504 bytes.  Not bad.  About half the size.\
\
The real question is how much more compressed this can get if the best of the above apps is applied, PNGWolf.  It looks like PNGWolf is taking off 200-500 bytes per file.  That may not be worth the trouble\'85\
\
\
\ul PNGQuant\ulnone \
This command line util can be installed with \'93brew install pngquant\'94, and it can shrink files really well, really fast.  Running PNGWolf or FileOptimizer afterwards it is a good idea, shaving approx 200-20000 more bytes depending.  Beware never to set the quality (Q) setting to less then 100 (perfect) because it has a nasty habit of dithering poorly, adding speckles in the pure white/transparent areas where there should be none.  However, you CAN use this tool as an effective first-pass compressor to reduce the color count instead of Photoshop.  Here is the command line for that:  (This will overwrite/replace files in-place, if they end up smaller.)  (Note the --strip option that will remove all metadata.)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 pngquant -s 1 --skip-if-larger --strip --ext .png -f <insert color count here> *.png\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural
\cf0 \
Here is the command line for lossless compression:  (This will overwrite/replace files in-place, if they end up smaller.)  (Note the --strip option that will remove all metadata.)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 pngquant -s 1 -Q 100-100 --skip-if-larger --strip --ext .png -f *.png\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural
\cf0 \
\
\ul FileOptimizer\ulnone \
This is a windows only multi-format (HUGE list of supported file types) lossless compressor that uses a multi-pass approach.  For example, for PNGs, FileOptimizer employs PNGWolf, pngOut, Leanify, ECT, TruePNG, and others.  It does the job of using all the apps I\'92ve described above (and many more), but the real advantage is that it performs them in the correct order.  This is a great app that does just what I need, in one step.  The only problems are (1) that it takes a LONG time on PNG files, and (2) the code is not parallelized so it doesn\'92t use the processor efficiently.  Still, it rocks, and I\'92m tempted to let it run on the entire Heroes\'92 Path image set.  (I eventually did using multiple windows XP VMs\'85)  It is running away on the PC in my room on my entire photo library right now\'85\
\
Uh oh\'85. It seems that SFML is having a problem displaying some images compressed with FileOptimizer, the images look erratic and strange.  I re-did the compression pass on roughly 80 files that didn\'92t display properly, and\
\
\
\ul PNG Conclusions\
\ulnone Use Photoshop or PNGQuant for the lossy first-pass to reduce the color count to a desired value (usually 16, that is the color count for all item and creature images), and then use FileOptimizer (which employs PNGWolf, among many others) to finish.\
\
\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural

\fs32 \cf0 Reducing JPG Files
\fs22 \
\
Some photo-style full-color images are just better served by the JPG format, and Photoshop\'92s JPG compression leaves a lot to be desired.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\sl288\slmult1\pardirnatural
\cf0 \ul TinyJPG\ulnone \
This is a website, and it does reduce the number of colors in your original (lossy-compression) (technically), but the results look great.  It is meant for web image compression and works perfectly in that domain.  I think in most cases this is a solid choice for the \'91first step\'92 tool.\
\
\ul JPEGmini\ulnone \
This tool has a free version that allows 20 compressions a day.  It\'92s a simple straightforward drag-and-drop app that does a good job.  Good, not great.  CodeKit beats it, by far.  Skip this tool.\
\
\ul CodeKit\ulnone \
This app is really a web development tool that focuses on doing everything for you.  Shame.  If you take the time to turn off everything it tries to on the side, this can shrink JPG files remarkably.  The best part is, it\'92s lossless.\
\
\ul JPG Conclusions\ulnone \
If you need a lossy first-pass tool, use TinyJPG.  After, for a lossless compressor, use FileOptimizer.\
}